<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Capítulo 11 ¿Qué sabemos hacer? | Aprendiendo R sin morir en el intento</title>
<meta name="author" content="Javier Álvarez Liébana">
<meta name="description" content="Hasta aquí el aperitivo ¿Qué datos hemos aprendido a manejar? Tabla 11.1: Tipos de datos mencionados hasta ahora paquetes descripción x &lt;- 1 (dato numérico) vector de longitud 1 x &lt;- c(1, 2, 3)...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Capítulo 11 ¿Qué sabemos hacer? | Aprendiendo R sin morir en el intento">
<meta property="og:type" content="book">
<meta property="og:image" content="/img/logo_R.png">
<meta property="og:description" content="Hasta aquí el aperitivo ¿Qué datos hemos aprendido a manejar? Tabla 11.1: Tipos de datos mencionados hasta ahora paquetes descripción x &lt;- 1 (dato numérico) vector de longitud 1 x &lt;- c(1, 2, 3)...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Capítulo 11 ¿Qué sabemos hacer? | Aprendiendo R sin morir en el intento">
<meta name="twitter:description" content="Hasta aquí el aperitivo ¿Qué datos hemos aprendido a manejar? Tabla 11.1: Tipos de datos mencionados hasta ahora paquetes descripción x &lt;- 1 (dato numérico) vector de longitud 1 x &lt;- c(1, 2, 3)...">
<meta name="twitter:image" content="/img/logo_R.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/_Sen-0.4.0/font.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=DM%20Mono&amp;display=swap" rel="stylesheet">
<link href="libs/_Bitter-0.4.0/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.3.0/transition.js"></script><script src="libs/bs3compat-0.3.0/tabs.js"></script><script src="libs/bs3compat-0.3.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.18/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Aprendiendo R sin morir en el intento</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Prefacio</a></li>
<li class="book-part">Toma de contacto</li>
<li><a class="" href="instalacionR.html"><span class="header-section-number">1</span> Instalación</a></li>
<li><a class="" href="primeros-pasos.html"><span class="header-section-number">2</span> Primeros pasos</a></li>
<li class="book-part">Conceptos básicos</li>
<li><a class="" href="vectores.html"><span class="header-section-number">3</span> Tipos de datos I: vectores</a></li>
<li><a class="" href="operacionesvectores.html"><span class="header-section-number">4</span> Operaciones con vectores</a></li>
<li><a class="" href="proyecto.html"><span class="header-section-number">5</span> Flujo de trabajo: primer proyecto</a></li>
<li><a class="" href="control.html"><span class="header-section-number">6</span> Estructuras de control</a></li>
<li><a class="" href="datos.html"><span class="header-section-number">7</span> Tipos de datos II: datos estructurados</a></li>
<li><a class="" href="importar-exportar.html"><span class="header-section-number">8</span> Importando/exportando</a></li>
<li class="book-part">Listas y funciones</li>
<li><a class="" href="otros-datos.html"><span class="header-section-number">9</span> Listas y factores</a></li>
<li><a class="" href="funciones.html"><span class="header-section-number">10</span> Creación de funciones</a></li>
<li class="book-part">Alto en el camino</li>
<li><a class="active" href="resumen-1.html"><span class="header-section-number">11</span> ¿Qué sabemos hacer?</a></li>
<li class="book-part">EXPLORANDO: introducción al análisis exploratorio de datos</li>
<li><a class="" href="tidydata.html"><span class="header-section-number">12</span> Tidy data: ordenando datos</a></li>
<li><a class="" href="tidyverse.html"><span class="header-section-number">13</span> Explorando los datos: incursión a tidyverse</a></li>
<li><a class="" href="resumenes.html"><span class="header-section-number">14</span> Resumiendo y relacionado los datos</a></li>
<li><a class="" href="ggplot2.html"><span class="header-section-number">15</span> Visualizando datos: incursión a ggplot2</a></li>
<li class="book-part">Epílogo</li>
<li><a class="" href="contribuye.html"><span class="header-section-number">16</span> Contribuye al proyecto</a></li>
<li><a class="" href="bibliograf%C3%ADa.html">Bibliografía</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/dadosdelaplace/intro-R">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="resumen-1" class="section level1">
<h1>
<span class="header-section-number">Capítulo 11</span> ¿Qué sabemos hacer?<a class="anchor" aria-label="anchor" href="#resumen-1"><i class="fas fa-link"></i></a>
</h1>
<p><strong>Hasta aquí el aperitivo</strong></p>
<p><strong><span style="color: #4197D2;">¿Qué datos hemos aprendido a manejar?</span></strong></p>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:unnamed-chunk-231">Tabla 11.1: </span>Tipos de datos mencionados hasta ahora</caption>
<colgroup>
<col width="64%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th align="left">paquetes</th>
<th align="left">descripción</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">x &lt;- 1 (dato numérico)</td>
<td align="left">vector de longitud 1</td>
</tr>
<tr class="even">
<td align="left">x &lt;- c(1, 2, 3) (vector de números)</td>
<td align="left">vector (mismo tipo)</td>
</tr>
<tr class="odd">
<td align="left">x &lt;- c(‘a’, ‘b’, ‘c’) (vector de caracteres)</td>
<td align="left">vector (mismo tipo)</td>
</tr>
<tr class="even">
<td align="left">x &lt;- matrix(1:6, nrow = 2)</td>
<td align="left">matriz (mismo tipo, misma longitud)</td>
</tr>
<tr class="odd">
<td align="left">x &lt;- data.frame(‘a’ = 1:3, ‘b’ = c(‘a’, ‘b’, ‘c’), ‘c’ = c(TRUE, TRUE, FALSE))</td>
<td align="left">data.frame (distinto tipo, misma longitud)</td>
</tr>
<tr class="even">
<td align="left">x &lt;- list(1:3, c(‘a’), c(TRUE, FALSE))</td>
<td align="left">lista (distinto tipo, distinta longitud)</td>
</tr>
</tbody>
</table></div>
<p><strong><span style="color: #4197D2;">¿Qué paquetes hemos usado ya?</span></strong></p>
<p>Como ves, hemos podido hacer bastantes cosas ya en <code>R</code> con muy pocos paquetes, y ocupando el mínimo espacio y tiempo en nuestro ordenador.</p>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:unnamed-chunk-232">Tabla 11.2: </span>Paquetes mencionados hasta ahora</caption>
<thead><tr class="header">
<th align="left">paquetes</th>
<th align="left">descripción</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">{base}</td>
<td align="left">utilidades básicas</td>
</tr>
<tr class="even">
<td align="left">{bookdown}</td>
<td align="left">creación de libros, manuales e informes en R</td>
</tr>
<tr class="odd">
<td align="left">{glue}</td>
<td align="left">manejo de texto literal</td>
</tr>
<tr class="even">
<td align="left">{stringr}</td>
<td align="left">manejo complejo de cadenas de texto</td>
</tr>
<tr class="odd">
<td align="left">{lubridate}</td>
<td align="left">manejo de fechas</td>
</tr>
<tr class="even">
<td align="left">{microbenchmark}</td>
<td align="left">comparativa de tiempos de ejecución</td>
</tr>
<tr class="odd">
<td align="left">{tibble}</td>
<td align="left">data.frames eficientes</td>
</tr>
<tr class="even">
<td align="left">{datasets}</td>
<td align="left">conjuntos de datos</td>
</tr>
<tr class="odd">
<td align="left">{readr}</td>
<td align="left">lectura de datos rectangulares (tablas)</td>
</tr>
<tr class="even">
<td align="left">{tidyverse}</td>
<td align="left">entorno de paquetes para el manejo de datos</td>
</tr>
<tr class="odd">
<td align="left">{readxl}</td>
<td align="left">lectura de datos en formato excel</td>
</tr>
<tr class="even">
<td align="left">{rvest}</td>
<td align="left">lectura de datos web</td>
</tr>
</tbody>
</table></div>
<p>Quizás creas que te queda un mundo por aprender:</p>
<ul>
<li>¿Cómo <strong>manejo datos de forma más profunda</strong> (filtrar, operar con ellos, etc)?</li>
<li>¿Cómo realizo <strong>análisis estadísticos</strong>?</li>
<li>¿Cómo <strong>visualizo datos</strong>?</li>
<li>¿Cómo <strong>generar informes</strong> con los resultados (ver <span class="citation">(Xie <a href="bibliograf%C3%ADa.html#ref-xie2015">2015</a>)</span>)?</li>
<li>¿Cómo <strong>crear webs interactivas</strong> para la visualización y análisis de datos?</li>
</ul>
<p>No te voy a mentir: no tendrías días de tu vida para ir investigando todos los paquetes que hay hechos en <code>R</code> (ni tú ni nadie). Pero la idea de estos primeros capítulos no era que fueses experto en <code>R</code> sino que vieses que, <strong>con pocas líneas de código y con cierta práctica</strong>, se puede empezar a tener herramientas para <strong>comenzar nuestra andadura</strong> en el análisis estadístico a través de este software. No te obsesiones con saberte todos los comandos de todos los paquetes o acabarás loco/a.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-233"></span>
<img src="img/stanley_kubrick.jpg" alt="Cuando intentas aprenderte todos los paquetes." width="50%"><p class="caption">
Imagen/gráfica 11.1: Cuando intentas aprenderte todos los paquetes.
</p>
</div>
<p>Estos primeros capítulos de un lenguaje de programación suelen ser un poco «aburridos»</p>
<ul>
<li>
<strong>Si sabes programar</strong>, te habrán parecido triviales (más allá de conocer la sintaxis propia de <code>R</code>).</li>
<li>
<strong>Si no sabías programar</strong>, han sido de repente un puñado de conceptos y cosas a recordar, que hasta que nos los vayas practicando tendrás que acudir a este manual (u otros recursos). <strong>No te obsesiones con memorizar</strong>: yo consulto cada día cosas que aparecen en este tutorial porque se me olvidan.</li>
</ul>
<p><strong>Lo importante es entender, no memorizar comandos</strong></p>
<p>Pero aunque sean más aburridos estos primeros conceptos, <strong>son necesarios para empezar a caminar</strong>: el inicio de aprender un idioma siempre es un poco meh, pero sin las reglas básicas de gramática y un mínimo de léxico nunca podrás empezar.</p>
<div id="recursos" class="section level2">
<h2>
<span class="header-section-number">11.1</span> Recursos extras<a class="anchor" aria-label="anchor" href="#recursos"><i class="fas fa-link"></i></a>
</h2>
<p>Ahora que ya sabes lo básico para poder empezar a trabajar en un entorno amigable, aunque la idea es que este manual tenga más capítulos (¿los tiene?) para seguir avanzando, por si se me olvida, te dejo una <strong>lista de recursos útiles</strong> para que puedas ir viendo el abanico de opciones que tienes</p>
<ul>
<li>
<strong>Código de este manual</strong>: este manual está programado en sí mismo en <code>R</code> y los códigos pueden ser consultados libremente en el repositorio de <a href="https://github.com/dadosdelaplace/docencia">GitHub</a> (hablaremos más adelante de como gestionar versiones de nuestro código en dicha plataforma).</li>
</ul>
<p><a href="https://github.com/dadosdelaplace/docencia" target="_blank"><img src="img/me_github.jpg" width="70%" style="display: block; margin: auto;"></a></p>
<ul>
<li><p><a href="https://dadosdelaplace.com">Cursos y selección de paquetes</a>: <strong>recopilatorio y selección de tutoriales y cursos de <code>R</code></strong> en distintos campos.</p></li>
<li><p><a href="https://bookdown.org/roback/bookdown-BeyondMLR/">Incursión a los modelos de regresión en <code>R</code></a>: manual sobre el uso de distintos modelos predictivos basados los Modelos Lineales Generalizados (GLM).</p></li>
<li><p><strong>Paquete para aprender <code>R</code></strong>: el paquete <a href="http://swirlstats.com">swirl</a> permite ir aprendiendo de forma sencilla (con preguntas tipo test) algunos conceptos básicos de <code>R</code> (muchos de ellos vistos en este manual). Puedes consultar la documentación en su <a href="https://swirlstats.com/">página web</a></p></li>
</ul>
<p><a href="https://swirlstats.com/" target="_blank"><img src="img/swirl.png" width="60%" style="display: block; margin: auto;"></a></p>
<ul>
<li><p><strong>Manejo de datos</strong>: probablemente el conjunto de herramientas más usadas en <code>R</code> sean los paquetes agrupados en {<code>tidyverse</code>} (y que veremos en capítulos sucesivos si los hubiese), un <a href="https://www.tidyverse.org/">conjunto de paquetes integrados para un manejo intuitivo de los datos</a>, tanto en su preprocesamiento, como en la generación de estadísticas y gráficas.</p></li>
<li><a href="https://rstudio-education.github.io/tidyverse-cookbook/">Tidyverse cookbook</a></li>
<li><p><a href="https://jhudatascience.org/tidyversecourse/">Tidyverse skills for data science</a></p></li>
</ul>
<p><a href="https://www.tidyverse.org/" target="_blank"><img src="img/tidyverse.jpg" width="60%" style="display: block; margin: auto;"></a></p>
<ul>
<li>
<strong>Visualización de datos en Twitter</strong>: una de las <strong>fortalezas de <code>R</code></strong> es su versatilidad para la visualización de datos. Y al igual que un escritor necesita leer mucho para tomar ideas, hay dos recursos en Twitter que te recomiendo encarecidamente:
<ul>
<li>El <strong>hashtag #TidyTuesday</strong> es una etiqueta en la que cada semana se plantea el reto de proponer la mejor visualización para un conjunto de datos dado, donde no solo puedes participar con la comunidad sino <a href="https://github.com/rfordatascience/tidytuesday">ver las visualizaciones de otros usuarios</a> de <code>R</code>.</li>
<li>Además he elaborado una <a href="https://twitter.com/i/lists/1324478481338683392?s=20">lista de Twitter</a> de usuarios que se dedican a la visualización de datos.</li>
</ul>
</li>
<li><p><strong>Paquetes para la visualización de datos</strong>: los paquetes <a href="https://ggplot2.tidyverse.org">ggplot2</a> y <a href="https://plotly-r.com">plotly</a> son probablemente los paquetes por excelencia en <code>R</code> para la visualización de datos. El <strong>primero es uno de los paquetes más potentes de <code>R</code>, dentro del entorno <a href="https://tidyverse.tidyverse.org">tidyverse</a></strong>, que no solo nos permite crear gráficos muy limpios y elegantes con pocas líneas sino que su sintaxis es muy intuitiva respecto a los datos visualizados. La idea inicial es poder aprender algo de <a href="https://ggplot2.tidyverse.org">ggplot2</a> en futuros capítulos pero puedes empezar si quieres echando un vistazo a su <a href="https://ggplot2.tidyverse.org/">web oficial</a>. También te recomiendo el <a href="https://www.cedricscherer.com/2019/08/05/a-ggplot2-tutorial-for-beautiful-plotting-in-r/">tutorial de Cédric Scherer</a>. El segundo paquete, <a href="https://plotly-r.com">plotly</a> puede llegar a tener las mismas funcionalidades pero su programación es más tediosa. Su principal ventaja es que <strong>genera gráficos interactivos: gráficos HTML (como si fuera una página web)</strong> (no una imagen estática) que permite al usuario interactuar con los datos pasando el ratón (incluso permite crear menús). Un ejemplo es la <a href="https://dgspasturias.shinyapps.io/panel_de_indicadores_asturias/">web de visualización covid de Asturias</a> que elaboré durante la pandemia para el Gobierno de Asturias (la web en sí está elaborada con <a href="https://shiny.rstudio.com/">shiny</a>, un paquete de <code>R</code> que <a href="https://shiny.rstudio.com/tutorial/">permite crear aplicaciones web</a>).</p></li>
<li><p><strong>Generación de informes desde R</strong>: el paquete <a href="https://github.com/rstudio/rmarkdown">rmarkdown</a> permite <a href="https://rmarkdown.rstudio.com/">generar directamente informes</a> que mezclen texto, fórmulas matemáticas, gráficas y código <code>R</code> (como este mismo manual), sin necesidad de importarlos a otras herramientas de Office.</p></li>
<li><p><strong>Comunidad de R hispano</strong>: tenemos un <a href="https://discord.gg/7ueKQqeaGr">grupo de Discord</a> y <a href="https://t.me/hispanoverse">grupo de Telegram</a> varios usuarios de R en España para compartir recursos.</p></li>
</ul>
</div>
<div id="aleatorio-1" class="section level2">
<h2>
<span class="header-section-number">11.2</span> Incursión aleatoria<a class="anchor" aria-label="anchor" href="#aleatorio-1"><i class="fas fa-link"></i></a>
</h2>
<p>Antes de acabar esta breve introducción a <code>R</code> merece la pena hablar de <strong>«lo aleatorio»</strong> y su generación en <code>R</code>.</p>
<p><strong>¿Cómo se define la aleatoriedad?</strong></p>
<p>Si alguna vez has interactuado con matemáticos o estadísticos (Dios te libre), seguramente es una palabra que les hayas escuchado mentar: <strong>aleatoriedad</strong>. Existen múltiples definiciones, y este manual tampoco pretende ser un tratado de filosofía de la ciencia, pero podemos definir la aleatoriedad de la siguiente manera:</p>
<p> </p>
<p><strong><span style="color: #4197D2;">GLOSARIO: aleatoriedad</span></strong></p>
<p>Propiedad de todo proceso cuyo resultado final no se puede conocer con exactitud - a nivel individual o particular - antes de que se realice, aunque las condiciones iniciales se mantengan constantes (ejemplo: lanzar un dado).</p>
<p><strong>¿Qué NO significa la palabra «aleatorio»?</strong></p>
<p>🛑 <strong>NO</strong> tiene que implicar algo <strong>caótico</strong>.<br>
🛑 <strong>NO</strong> significa que no se pueda <strong>predecir</strong> a nivel de conjunto.<br>
🛑 <strong>NO</strong> significa que <strong>carezca de un patrón</strong> de comportamiento.
 </p>
<p>El ejemplo perfecto para <strong>entender las implicaciones de algo aleatorio es un dado</strong>, ya que no podemos saber con exactitud cuál será la siguiente tirada, pero tiene un patrón: si tiramos un millón de veces, aproximadamente un sexto del total de tiradas serán un 1.</p>
<p> </p>
<p>En el análisis estadístico y en la programación en <code>R</code> nos vamos a encontrar con múltiples situaciones en las que <strong>lo aleatorio juega un papel importante</strong>, y aunque este sea un tutorial muy básico e introductorio, creo que es interesante conocer <strong>algunas formas muy sencillas de generar números aleatorios</strong> (o…no tanto, ahora llegamos a la Sección <a href="resumen-1.html#pseudoaleatorio">11.3</a>).</p>
<p>Empecemos por lo más simple: vamos a <strong>simular tiradas de una moneda</strong>, asumiendo que solo tenemos dos opciones (eliminando la opción de caer de canto). Cuando tiramos una moneda es un experimento aleatorio, ya que no sabemos el resultado exacto de la siguiente tirada, pero sí sabemos que la probabilidad teórica es de 50-50, y que las únicas opciones a elegir son <code>cara</code> y <code>cruz</code>.</p>
<p>Una forma de ver el experimento de lanzar una moneda es pensar que tenemos una <strong>urna con dos bolas (cara y cruz)</strong>, y empezamos a sacar bolas de la urna (<strong>permitiendo que al sacar una bola, se pueda devolver a la urna de nuevo</strong>). Eso es precisamente lo que hace la función <code><a href="https://rdrr.io/r/base/sample.html">sample()</a></code>, una función que nos seleccionará «aleatoriamente» elementos de una urna.</p>
<ul>
<li>
<code>x</code>: los elementos distintos que tiene para elegir, que en nuestro caso serán <code>"cara"</code> y <code>"cruz"</code>.</li>
<li>
<code>size</code>: el número de bolas que queremos sacar de la urna.</li>
<li>
<code>replace</code>: si tras extraer devolvemos la bola a la urna (<code>replace = TRUE</code>) o si se queda fuera (<code>replace = FALSE</code>, valor por defecto).</li>
<li>
<code>prob</code>: la probabilidad que tiene cada elemento en caso de no ser equiprobables (valor por defecto).</li>
</ul>
<div class="sourceCode" id="cb666"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Tiramos 20 veces una moneda</span>
<span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cara"</span>, <span class="st">"cruz"</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">20</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] "cara" "cruz" "cara" "cara" "cruz" "cara" "cruz" "cruz" "cara" "cara"
## [11] "cruz" "cara" "cruz" "cruz" "cara" "cara" "cruz" "cara" "cruz" "cruz"</code></pre>
<p>Fíjate que hemos indicado explícitamente <code>replace = TRUE</code> para decirle que aunque solo tengamos dos opciones, vamos a permitir que tras extraer una bola, la apuntemos, y la volvamos a introducir (puede salir de nuevo). ¿Qué sucede si <code>replace = FALSE</code> (su valor por defecto)?</p>
<div class="sourceCode" id="cb668"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Tiramos 20 veces una moneda SIN reemplazamiento</span>
<span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cara"</span>, <span class="st">"cruz"</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></code></pre></div>
<pre><code>## Error in sample.int(length(x), size, replace, prob): cannot take a sample larger than the population when 'replace = FALSE'</code></pre>
<p><strong>Al tener solo dos opciones</strong>, y no permitir que al extraer bolas vuelvan a la urna, tras extraer las dos únicas bolas, <strong>el proceso no puede continuar</strong> hasta los 20 lanzamientos.</p>
<p>Como seguramente te hayas percatado, lanzar una moneda es un experimento dicotómico, y dichos experimentos tienen una gran ventaja en programación y es que podemos escribirlo en binario: <code>0</code> para lo que llamemos fracaso (cara, por ejemplo), <code>1</code> para lo que llamemos éxito (cruz).</p>
<p>Generar experimentos dicotómicos de forma binario nos permite hacer cálculos sobre las tiradas de forma muy sencilla e intuitiva, ya que nos permite pasar de tener cadenas de texto a números.</p>
<div class="sourceCode" id="cb670"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Tiramos 50 veces una moneda: 0 es cara, 1 es cruz</span>
<span class="va">n_tiradas</span> <span class="op">&lt;-</span> <span class="fl">50</span>
<span class="va">tiradas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, size <span class="op">=</span> <span class="va">n_tiradas</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">tiradas</span></code></pre></div>
<pre><code>##  [1] 0 1 0 1 0 0 0 1 0 1 1 0 0 1 1 0 1 0 1 0 0 1 1 1 0 1 0 0 0 1 0 0 0 1 1 0 0 1
## [39] 0 0 0 0 1 0 0 0 0 1 1 0</code></pre>
<div class="sourceCode" id="cb672"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Cantidad de cruces: sumamos los 1's</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">tiradas</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb674"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Cantidad de caras: lo que son cruces</span>
<span class="va">n_tiradas</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">tiradas</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<div class="sourceCode" id="cb676"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># % de caras</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fl">100</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">tiradas</span><span class="op">)</span> <span class="op">/</span> <span class="va">n_tiradas</span>, <span class="st">"% de cruces"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## 40% de cruces</code></pre>
<p>El argumento <code>prob = ...</code> nos permite generar experimentos que sean dicotómicos pero que <strong>no sean equiprobables</strong>, algo similar a <strong>lanzar una moneda trucada</strong> (por ejemplo, 30% caras y 70% cruces). Nótese como dichas probabilidades deben ser introducidas como proporciones (divididas entre 100).</p>
<div class="sourceCode" id="cb678"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Tiradas de una moneda trucada</span>
<span class="va">tiradas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, size <span class="op">=</span> <span class="va">n_tiradas</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.7</span><span class="op">)</span><span class="op">)</span>

<span class="co"># % de caras</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fl">100</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">tiradas</span><span class="op">)</span> <span class="op">/</span> <span class="va">n_tiradas</span>, <span class="st">"% de cruces"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## 80% de cruces</code></pre>
<details><p><summary>📝<strong>Ejercicio</strong>: ¿cómo simularías 200 tiradas de un dado?</summary></p>
<!-- toc -->
<ul>
<li>Solución:</li>
</ul>
<div class="sourceCode" id="cb680"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Lo único que cambia son las opciones en la urna</span>
<span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, size <span class="op">=</span> <span class="fl">200</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##   [1] 4 2 6 4 2 1 2 2 2 5 3 3 3 2 2 1 1 2 3 6 3 2 1 5 6 2 2 1 2 4 6 3 5 2 2 5 3
##  [38] 6 6 6 6 4 4 3 5 1 3 2 6 3 5 5 2 4 5 4 2 1 3 1 1 3 2 3 5 4 5 4 6 5 1 6 1 6
##  [75] 1 6 4 5 2 1 4 4 3 4 5 3 2 5 2 2 6 6 6 1 6 4 2 2 1 3 5 5 6 2 6 4 4 4 2 5 1
## [112] 3 5 5 1 4 6 4 5 6 3 2 2 2 3 5 4 5 5 2 1 6 2 6 1 4 2 2 2 6 2 5 2 3 4 5 2 2
## [149] 6 1 5 2 6 1 1 4 3 3 5 6 1 3 1 3 6 3 2 1 2 5 5 2 4 2 5 1 5 2 5 6 3 2 1 6 4
## [186] 6 5 2 1 3 2 4 1 1 2 1 5 1 3 3</code></pre>
<!-- tocstop -->
</details>
</div>
<div id="pseudoaleatorio" class="section level2">
<h2>
<span class="header-section-number">11.3</span> Pseudoaleatoriedad<a class="anchor" aria-label="anchor" href="#pseudoaleatorio"><i class="fas fa-link"></i></a>
</h2>
<p>Si has hecho varias pruebas con los códigos de arriba quizás ya hayas visto que <strong>cada vez que lanzas el código, el resultado es distinto</strong>, algo similar a lo que sucedería si lanzas una moneda. Prueba a ejecutar este código varias veces.</p>
<div class="sourceCode" id="cb682"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, size <span class="op">=</span> <span class="fl">20</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 1 1 0 1 0 1 1 0 0 1 0 0 1 0 1 0 1 1 1 1</code></pre>
<div class="sourceCode" id="cb684"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, size <span class="op">=</span> <span class="fl">20</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 1 0 1 0 0 0 1 0 1 1 0 0 1 1 0 1 0 0 1 0</code></pre>
<div class="sourceCode" id="cb686"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, size <span class="op">=</span> <span class="fl">20</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 1 1 0 1 0 1 0 1 0 0 0 0 0 0 1 0 1 0 0 0</code></pre>
<p><strong>¿Y si quisiéramos generar toda la clase la misma tirada de moneda?</strong></p>
<p>Lo primero que quizás pienses es que es <strong>imposible</strong>, ya que al tirar una moneda en la vida real, nunca vamos a tener forma de garantizar que salgan las mismas tiradas a diferentes personas. Y <strong>efectivamente eso sería cierto si nuestros procesos generados hubiesen sido aleatorios</strong>, como en la vida real pero…no lo son.</p>
<p>Mientras esperamos a que lleguen al mainstream los ordenadores cuánticos, <strong>TODO lo que hay en tu ordenador es determínistico</strong>, ya que cualquier proceso se reduce a una <strong>secuencia de bits (<code>0's</code> y <code>1's</code>)</strong> y un <strong>algoritmo</strong> (sin azar, cuyo resultado siempre será el mismo bajo las mismas condiciones iniciales). He aquí la decepción de tu vida: un ordenador «normal» NO puede generar procesos aleatorios, sino <strong>procesos y números PSEUDOALEATORIOS</strong>, basados en <strong>cadenas pseudoaleatorias</strong> generadas por un algoritmo determinístico.</p>
<p>Dichas secuencias aparentan ser aleatorias pero no lo son, y de hecho muchas son <strong>periódicas</strong>: si generamos el número suficiente de elementos de la cadena pseudoaleatoria volveremos al inicio. Muchos de los algoritmos disponibles para generar números aleatorios dependen, entre otros factores, de un <strong>valor inicial llamada semilla</strong> (normalmente obtenida a partir del reloj interno del ordenador): misma semilla, mismo resultado «aleatorio». Para <strong>fijar la semilla</strong> usaremos <code><a href="https://rdrr.io/r/base/Random.html">set.seed()</a></code>, pasándole como argumento una secuencia de números (todos la misma).</p>
<div class="sourceCode" id="cb688"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1234567</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, size <span class="op">=</span> <span class="fl">20</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 0 1 1 0 1 0 0 0 1 1 0 1 0 1 0 0 1 1 1 0</code></pre>
<div class="sourceCode" id="cb690"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1234567</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, size <span class="op">=</span> <span class="fl">20</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 0 1 1 0 1 0 0 0 1 1 0 1 0 1 0 0 1 1 1 0</code></pre>
<div class="sourceCode" id="cb692"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1234567</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, size <span class="op">=</span> <span class="fl">20</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 0 1 1 0 1 0 0 0 1 1 0 1 0 1 0 0 1 1 1 0</code></pre>
<p><strong>Siempre la misma tirada si la semilla inicial es la misma</strong> ya que las cadenas pseudoaleatorias que usa el ordenador para simular nuestras tiradas son idénticas.</p>

</div>
</div>



  <div class="chapter-nav">
<div class="prev"><a href="funciones.html"><span class="header-section-number">10</span> Creación de funciones</a></div>
<div class="next"><a href="tidydata.html"><span class="header-section-number">12</span> Tidy data: ordenando datos</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#resumen-1"><span class="header-section-number">11</span> ¿Qué sabemos hacer?</a></li>
<li><a class="nav-link" href="#recursos"><span class="header-section-number">11.1</span> Recursos extras</a></li>
<li><a class="nav-link" href="#aleatorio-1"><span class="header-section-number">11.2</span> Incursión aleatoria</a></li>
<li><a class="nav-link" href="#pseudoaleatorio"><span class="header-section-number">11.3</span> Pseudoaleatoriedad</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/dadosdelaplace/intro-R/blob/master/10-repaso.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/dadosdelaplace/intro-R/edit/master/10-repaso.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Aprendiendo R sin morir en el intento</strong>" was written by Javier Álvarez Liébana. It was last built on Última actualización: 21-12-2021.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
