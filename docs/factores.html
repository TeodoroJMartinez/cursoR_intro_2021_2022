<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Capítulo 10 Factores | Aprendiendo R sin morir en el intento</title>
<meta name="author" content="Javier Álvarez Liébana">
<meta name="description" content="¿Qué nos puede quedar más allá de las listas? Hay una forma de guardar los datos muy particular en R, que nos permite diferenciar variables no por su contenido en sí sino por lo que representan:...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Capítulo 10 Factores | Aprendiendo R sin morir en el intento">
<meta property="og:type" content="book">
<meta property="og:image" content="/img/logo_R.png">
<meta property="og:description" content="¿Qué nos puede quedar más allá de las listas? Hay una forma de guardar los datos muy particular en R, que nos permite diferenciar variables no por su contenido en sí sino por lo que representan:...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Capítulo 10 Factores | Aprendiendo R sin morir en el intento">
<meta name="twitter:description" content="¿Qué nos puede quedar más allá de las listas? Hay una forma de guardar los datos muy particular en R, que nos permite diferenciar variables no por su contenido en sí sino por lo que representan:...">
<meta name="twitter:image" content="/img/logo_R.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/_Sen-0.4.0/font.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=DM%20Mono&amp;display=swap" rel="stylesheet">
<link href="libs/_Bitter-0.4.0/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.3.0/transition.js"></script><script src="libs/bs3compat-0.3.0/tabs.js"></script><script src="libs/bs3compat-0.3.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.18/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Aprendiendo R sin morir en el intento</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Prefacio</a></li>
<li class="book-part">Toma de contacto</li>
<li><a class="" href="instalacionR.html"><span class="header-section-number">1</span> Instalación</a></li>
<li><a class="" href="primeros-pasos.html"><span class="header-section-number">2</span> Primeros pasos</a></li>
<li class="book-part">Conceptos básicos</li>
<li><a class="" href="vectores.html"><span class="header-section-number">3</span> Tipos de datos I: vectores</a></li>
<li><a class="" href="operacionesvectores.html"><span class="header-section-number">4</span> Operaciones con vectores</a></li>
<li><a class="" href="control.html"><span class="header-section-number">5</span> Estructuras de control</a></li>
<li><a class="" href="datos.html"><span class="header-section-number">6</span> Tipos de datos II: datos estructurados</a></li>
<li><a class="" href="proyecto.html"><span class="header-section-number">7</span> Flujo de trabajo: primer proyecto</a></li>
<li><a class="" href="importar-exportar.html"><span class="header-section-number">8</span> Importando/exportando</a></li>
<li class="book-part">Un pasito más</li>
<li><a class="" href="listas.html"><span class="header-section-number">9</span> Listas</a></li>
<li><a class="active" href="factores.html"><span class="header-section-number">10</span> Factores</a></li>
<li><a class="" href="funciones.html"><span class="header-section-number">11</span> Creación de funciones</a></li>
<li class="book-part">EXPLORANDO: introducción al análisis exploratorio de datos</li>
<li><a class="" href="tidydata.html"><span class="header-section-number">12</span> Tidy data: ordenando datos</a></li>
<li><a class="" href="tidyverse.html"><span class="header-section-number">13</span> Incursión a tidyverse</a></li>
<li><a class="" href="resumenes.html"><span class="header-section-number">14</span> Resumiendo y relacionado los datos</a></li>
<li class="book-part">Final del camino</li>
<li><a class="" href="resumen-1.html"><span class="header-section-number">15</span> ¿Qué sabemos hacer?</a></li>
<li><a class="" href="recursos.html"><span class="header-section-number">16</span> Recursos extras</a></li>
<li class="book-part">Epílogo</li>
<li><a class="" href="contribuye.html"><span class="header-section-number">17</span> Contribuye al proyecto</a></li>
<li><a class="" href="bibliograf%C3%ADa.html">Bibliografía</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/dadosdelaplace/intro-R">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="factores" class="section level1">
<h1>
<span class="header-section-number">Capítulo 10</span> Factores<a class="anchor" aria-label="anchor" href="#factores"><i class="fas fa-link"></i></a>
</h1>
<p>¿Qué nos puede quedar más allá de las listas? Hay una forma de guardar los datos muy particular en <code>R</code>, que nos permite diferenciar variables no por su contenido en sí sino por lo que representan: <mark><strong>hablemos de factores</strong></mark></p>
<p>Los <mark><strong>factores la manera que tiene <code>R</code> para definir variables categóricas</strong></mark>, también llamadas <strong>cualitativas</strong>, variables que aunque puedan ser números, en realidad representa <strong>categorías (categoría 1, 2, 3…)</strong>. Algunos <mark><strong>ejemplos</strong></mark> de variables categóricas o cualitativas son las siguientes:</p>
<ul>
<li>Estado civil (soltero/casado/viudo)</li>
<li>Diagnóstico del paciente (sano/leve/grave/fallecido)</li>
<li>Religión (musulmán/católico/ateo/budista)</li>
<li>País (España/Francia/Argentina)</li>
<li>Notas (suspenso/aprobado/notable/sobresaliente)</li>
<li>Colores (rojo/azul/verde)</li>
<li>Código postal (28017/34001/18003/33009)</li>
</ul>
<p><mark><strong>¿Qué diferencias observas entre ellas?</strong></mark></p>
<p>Si las observas, bien algunas de ellas tienen asignadas una <mark><strong>jerarquía (orden)</strong></mark>, a pesar de ser variables cualitativas. Es el caso de <code>notas</code> y <code>diagnóstico</code>, y son variables que llamamos <strong>variables cualitativas <mark>ordinales</mark></strong>. En otros casos, no se puede (ni se debería) establecer una jerarquía, como es el caso de <code>estado civil</code>, <code>religión</code>, <code>país</code>, <code>colores</code> o <code>código postal</code>, <strong>variables cualitativas <mark>nominales</mark></strong>. Además esta última es especial ya que es una varibale CUALItativa aunque esté formada por números: el código postal, los DNI, las tarjetas sanitarias, son variables que permiten <strong>identificar</strong> registros, direcciones o inviduos, por lo que su naturaleza no es cuantitativa (no cuantifican ninguna cantidad) sino cualitativa.</p>
<p>Esas variables cualitativas en <code>R</code> se llaman <mark><strong>factores</strong></mark>. Internamente los factores se guardan como <strong>variable numéricas enteras (enumerando las categorías)</strong> pero se nos mostarán con el nombre asignada a dicha categoría. Para convertir una variable a factor basta con ejecutar la función <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code>, que nos convierte cada valor diferente en una categoría (para ver valores diferentes de un vector, usar la función <code><a href="https://rdrr.io/r/base/unique.html">unique()</a></code>).</p>
<div class="sourceCode" id="cb612"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">datos</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb614"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos</span></code></pre></div>
<pre><code>##  [1] 1 2 3 1 2 3 2 3 3 1</code></pre>
<div class="sourceCode" id="cb616"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Convertimos a factor</span>
<span class="va">datos_factor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">datos</span><span class="op">)</span> 
<span class="va">datos_factor</span> </code></pre></div>
<pre><code>##  [1] 1 2 3 1 2 3 2 3 3 1
## Levels: 1 2 3</code></pre>
<p> </p>
<p><strong><span style="color: #ffc107;">WARNING: un factor es una CATEGORÍA, no un número</span></strong></p>
<p>Es importante entender que un <strong>factor es una CATEGORÍA</strong>, como rojo/blanco/negro, por lo que desde el momento en el que lo convertimos en factor, ya no podemos hacer operaciones aritméticas (no podemos sumar categorías, solo números).</p>
<div class="sourceCode" id="cb618"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos</span> <span class="op">+</span> <span class="fl">1</span></code></pre></div>
<pre><code>##  [1] 2 3 4 2 3 4 3 4 4 2</code></pre>
<div class="sourceCode" id="cb620"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_factor</span> <span class="op">+</span> <span class="fl">1</span></code></pre></div>
<pre><code>##  [1] NA NA NA NA NA NA NA NA NA NA</code></pre>
<p> </p>
<p>Como puedes observar, al tenerlo en factor, además de la variable en sí se nos <strong>muestra debajo los <code>levels</code>, los niveles permitidos de las categorías</strong>. Si no le indicamos que nombres queremos, nos convierte los valores a texto y lo toma como nombre de categoría. Con el <strong>argumento <code>labels</code> podemos configurarlo</strong> a nuestro gusto. Con la función <code>levels</code> podemos reasignarle nombres tras su generación.</p>
<div class="sourceCode" id="cb622"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_factor</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">datos</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Categoría"</span>, <span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">datos</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># damos nombre de categoría 1, 2, 3...</span>
<span class="va">datos_factor</span> </code></pre></div>
<pre><code>##  [1] Categoría 1 Categoría 2 Categoría 3 Categoría 1 Categoría 2 Categoría 3
##  [7] Categoría 2 Categoría 3 Categoría 3 Categoría 1
## Levels: Categoría 1 Categoría 2 Categoría 3</code></pre>
<div class="sourceCode" id="cb624"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Renombramos si queremos</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">datos_factor</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"C1"</span>, <span class="st">"C2"</span>, <span class="st">"C3"</span><span class="op">)</span>
<span class="va">datos_factor</span></code></pre></div>
<pre><code>##  [1] C1 C2 C3 C1 C2 C3 C2 C3 C3 C1
## Levels: C1 C2 C3</code></pre>
<p>Aunque sirve también para variables numéricas, la función <mark><strong><code><a href="https://rdrr.io/r/base/table.html">table()</a></code> nos calcula las frecuencias de cada una de las categorías</strong></mark>, las veces que se repiten en nuestro conjunto (es una forma eficiente de guardar categorías ya que solo se guardan los valores únicos y el número de veces que se repiten, así como su lugar).</p>
<div class="sourceCode" id="cb626"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">datos_factor</span><span class="op">)</span></code></pre></div>
<pre><code>## datos_factor
## C1 C2 C3 
##  3  3  4</code></pre>
<p>Una ventaja de los factores es que le podemos <strong>indicar que considere que las categorías son ordinales</strong> con el argumento <code>ordered = TRUE</code>.</p>
<div class="sourceCode" id="cb628"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">notas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">2</span>, <span class="fl">10</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">10</span>, <span class="fl">8</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span> <span class="co"># notas de clase: tienen un orden</span>
<span class="va">notas_factor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">notas</span><span class="op">)</span>
<span class="va">notas_factor</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;</span> <span class="va">notas_factor</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb630"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">notas_factor_ordenados</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">notas</span>, ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">notas_factor_ordenados</span></code></pre></div>
<pre><code>##  [1] 7  2  10 5  7  8  10 8  2  2  5  5  5  10
## Levels: 2 &lt; 5 &lt; 7 &lt; 8 &lt; 10</code></pre>
<p>Las <strong>variables cualitativas ordinales</strong> pueden ser comparadas al tener un orden.</p>
<div class="sourceCode" id="cb632"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">notas_factor_ordenados</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;</span> <span class="va">notas_factor_ordenados</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="co"># nos dice que la categoría 7 no es menor que la categoría 2</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Y con <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> además podemos obtener un <strong>resumen</strong> de nuestras categorías</p>
<div class="sourceCode" id="cb634"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">notas_factor_ordenados</span><span class="op">)</span></code></pre></div>
<pre><code>##  2  5  7  8 10 
##  3  4  2  2  3</code></pre>
<p>Para <mark><strong>convertir de factor a numérica</strong></mark> (y poder operar aritméticamente con ellos), basta usar la función <code><a href="https://rdrr.io/r/base/numeric.html">as.numeric()</a></code>.</p>
<div class="sourceCode" id="cb636"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">notas_factor_ordenados</span> <span class="op">+</span> <span class="fl">1</span></code></pre></div>
<pre><code>##  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA</code></pre>
<div class="sourceCode" id="cb638"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">notas_factor_ordenados</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span></code></pre></div>
<pre><code>##  [1] 4 2 6 3 4 5 6 5 2 2 3 3 3 6</code></pre>
<div class="sourceCode" id="cb640"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">notas_factor_ordenados</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2.857143</code></pre>
<p>También podemos <mark><strong>convertir variables continuas (o discretas) a factores indicando los rangos de las categorías</strong></mark> que queremos asignar con la función <code><a href="https://rdrr.io/r/base/cut.html">cut()</a></code>. Por ejemplo, supongamos que tenemos notas numéricas de clase y queremos asignar una nota categórica. En el argumento <code>breaks</code> debemos indicarle los <strong>cortes que queremos en los datos</strong>, teniendo <code>n+1</code> valores, siendo <code>n</code> el número de categorías. Con <code>right = FALSE</code> le vamos a indicar que los intervalos son abiertos por la derecha.</p>
<div class="sourceCode" id="cb642"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">notas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7.4</span>, <span class="fl">1.1</span>, <span class="fl">2.9</span>, <span class="fl">10</span>, <span class="fl">5.2</span>, <span class="fl">7.7</span>, <span class="fl">8.9</span>, <span class="fl">10</span>, <span class="fl">8.1</span>, <span class="fl">2.6</span>, <span class="fl">2.4</span>, <span class="fl">5.5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">6.3</span>, <span class="fl">9.4</span><span class="op">)</span> <span class="co"># notas de clase</span>
<span class="va">notas_categoricas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">notas</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">10.1</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"suspenso"</span>, <span class="st">"aprobado"</span>, <span class="st">"notable"</span>, <span class="st">"sobresaliente"</span>, <span class="st">"mh"</span><span class="op">)</span>, right <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">notas_categoricas</span></code></pre></div>
<pre><code>##  [1] notable       suspenso      suspenso      mh            aprobado     
##  [6] notable       notable       mh            notable       suspenso     
## [11] suspenso      aprobado      aprobado      aprobado      mh           
## [16] aprobado      sobresaliente
## Levels: suspenso aprobado notable sobresaliente mh</code></pre>
<p>Además, la función <code><a href="https://rdrr.io/r/base/cut.html">cut()</a></code> identifica los datos de tipo fecha, pudiendo hacer <strong>cortes por unidades temporales</strong>.</p>
<div class="sourceCode" id="cb644"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fechas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2021-04-10"</span>, <span class="st">"2021-03-10"</span>, <span class="st">"2021-01-01"</span>, <span class="st">"2020-01-15"</span>, <span class="st">"2020-09-10"</span>, <span class="st">"2020-09-15"</span>, <span class="st">"2020-07-08"</span><span class="op">)</span><span class="op">)</span>
<span class="va">fechas_cortes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">fechas</span>, breaks <span class="op">=</span> <span class="st">"year"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">fechas_cortes</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2020"</span>, <span class="st">"2021"</span><span class="op">)</span>
<span class="va">fechas_cortes</span></code></pre></div>
<pre><code>## [1] 2021 2021 2021 2020 2020 2020 2020
## Levels: 2020 2021</code></pre>
<div id="consejos-8" class="section level2">
<h2>
<span class="header-section-number">10.1</span> Consejos<a class="anchor" aria-label="anchor" href="#consejos-8"><i class="fas fa-link"></i></a>
</h2>
<p><strong><span style="color: #20935E;">CONSEJOS</span></strong></p>
<p> </p>
<p><strong><span style="color: #4197D2;">Paquete forcats</span></strong></p>
<p>En dicho paquete tienes muchas <strong>funcionalidades para trabajar con factores</strong>. Ver <a href="https://forcats.tidyverse.org/" class="uri">https://forcats.tidyverse.org/</a>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:forcats"></span>
<img src="img/forcats.png" alt="Paquete lubridate." width="95%"><p class="caption">
Imagen/gráfica 10.1: Paquete lubridate.
</p>
</div>
<p> </p>
</div>
<div id="ejercicios-6" class="section level2">
<h2>
<span class="header-section-number">10.2</span> 📝 Ejercicios<a class="anchor" aria-label="anchor" href="#ejercicios-6"><i class="fas fa-link"></i></a>
</h2>
<details><p><summary><strong>Ejercicio 1</strong>: define una variable de 5 elementos con los valores <code>vector_char &lt;- c("H", "H", "M", "H", "M", "M", "H")</code>. Convierte la variable a factor, y renombra los niveles como <code>"Hombre"</code> y <code>"Mujer"</code>.</summary></p>
<!-- toc -->
<ul>
<li>Solución:</li>
</ul>
<div class="sourceCode" id="cb646"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Vector de caracteres</span>
<span class="va">vector_char</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"H"</span>, <span class="st">"H"</span>, <span class="st">"M"</span>, <span class="st">"H"</span>, <span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"H"</span><span class="op">)</span>
<span class="va">vector_char</span></code></pre></div>
<pre><code>## [1] "H" "H" "M" "H" "M" "M" "H"</code></pre>
<div class="sourceCode" id="cb648"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">vector_char</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "character"</code></pre>
<div class="sourceCode" id="cb650"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Convertimos a factor</span>
<span class="va">vector_factor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">vector_char</span><span class="op">)</span>
<span class="va">vector_factor</span></code></pre></div>
<pre><code>## [1] H H M H M M H
## Levels: H M</code></pre>
<div class="sourceCode" id="cb652"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">vector_factor</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "factor"</code></pre>
<div class="sourceCode" id="cb654"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Renombramos niveles</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">vector_factor</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Hombre"</span>, <span class="st">"Mujer"</span><span class="op">)</span>
<span class="va">vector_factor</span></code></pre></div>
<pre><code>## [1] Hombre Hombre Mujer  Hombre Mujer  Mujer  Hombre
## Levels: Hombre Mujer</code></pre>
</details><p> </p>
<details><p><summary><strong>Ejercicio 2</strong>: define un vector con nombres de algunos animales y convierte el vector a factor.</summary></p>
<!-- toc -->
<ul>
<li>Solución:</li>
</ul>
<div class="sourceCode" id="cb656"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Ejemplo</span>
<span class="va">animales_char</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"perro"</span>, <span class="st">"gato"</span>, <span class="st">"pájaro"</span>, <span class="st">"perro"</span>, <span class="st">"loro"</span>, <span class="st">"gato"</span>, <span class="st">"perro"</span>, <span class="st">"león"</span><span class="op">)</span>
<span class="va">animales_char</span></code></pre></div>
<pre><code>## [1] "perro"  "gato"   "pájaro" "perro"  "loro"   "gato"   "perro"  "león"</code></pre>
<div class="sourceCode" id="cb658"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">animales_char</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "character"</code></pre>
<div class="sourceCode" id="cb660"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Convertimos a factor</span>
<span class="va">animales_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">animales_char</span><span class="op">)</span>
<span class="va">animales_vector</span></code></pre></div>
<pre><code>## [1] perro  gato   pájaro perro  loro   gato   perro  león  
## Levels: gato león loro pájaro perro</code></pre>
<div class="sourceCode" id="cb662"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">animales_vector</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "factor"</code></pre>
</details><p> </p>
<details><p><summary><strong>Ejercicio 3</strong>: define un vector con las notas <code>notas_char &lt;- c("Suspenso", "Aprobado", "Notable", "Sobresaliente", "Matrícula")</code> y conviértelo a factor. OJO: ¿es una variable cualitativa nominal u ordinal? Calcula el resumen de la variable.</summary></p>
<!-- toc -->
<ul>
<li>Solución:</li>
</ul>
<div class="sourceCode" id="cb664"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Notas (es ordinal)</span>
<span class="va">notas_char</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Aprobado"</span>, <span class="st">"Suspenso"</span>, <span class="st">"Sobresaliente"</span>, <span class="st">"Notable"</span>,
                <span class="st">"Matrícula"</span>, <span class="st">"Aprobado"</span>, <span class="st">"Aprobado"</span>, <span class="st">"Notable"</span>,
                <span class="st">"Suspenso"</span>, <span class="st">"Sobresaliente"</span>,
                <span class="st">"Matrícula"</span>, <span class="st">"Suspenso"</span><span class="op">)</span>
<span class="va">notas_char</span> </code></pre></div>
<pre><code>##  [1] "Aprobado"      "Suspenso"      "Sobresaliente" "Notable"      
##  [5] "Matrícula"     "Aprobado"      "Aprobado"      "Notable"      
##  [9] "Suspenso"      "Sobresaliente" "Matrícula"     "Suspenso"</code></pre>
<div class="sourceCode" id="cb666"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Convertimos a factor ORDENADO</span>
<span class="va">notas_factor</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">notas_char</span>, order <span class="op">=</span> <span class="cn">TRUE</span>,
         levels <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Suspenso"</span>, <span class="st">"Aprobado"</span>, <span class="st">"Notable"</span>, 
                     <span class="st">"Sobresaliente"</span>, <span class="st">"Matrícula"</span><span class="op">)</span><span class="op">)</span>
<span class="va">notas_factor</span></code></pre></div>
<pre><code>##  [1] Aprobado      Suspenso      Sobresaliente Notable       Matrícula    
##  [6] Aprobado      Aprobado      Notable       Suspenso      Sobresaliente
## [11] Matrícula     Suspenso     
## Levels: Suspenso &lt; Aprobado &lt; Notable &lt; Sobresaliente &lt; Matrícula</code></pre>
<div class="sourceCode" id="cb668"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Resumen</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">notas_factor</span><span class="op">)</span></code></pre></div>
<pre><code>##      Suspenso      Aprobado       Notable Sobresaliente     Matrícula 
##             3             3             2             2             2</code></pre>
</details><p> </p>
<details><p><summary><strong>Ejercicio 4</strong>: de la variable <code>notas_char</code> anterior compara el elemento segundo y el cuarto.</summary></p>
<!-- toc -->
<ul>
<li>Solución:</li>
</ul>
<div class="sourceCode" id="cb670"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">notas_factor</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;</span> <span class="va">notas_factor</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb672"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">notas_factor</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&gt;</span> <span class="va">notas_factor</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</details>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="listas.html"><span class="header-section-number">9</span> Listas</a></div>
<div class="next"><a href="funciones.html"><span class="header-section-number">11</span> Creación de funciones</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#factores"><span class="header-section-number">10</span> Factores</a></li>
<li><a class="nav-link" href="#consejos-8"><span class="header-section-number">10.1</span> Consejos</a></li>
<li><a class="nav-link" href="#ejercicios-6"><span class="header-section-number">10.2</span> 📝 Ejercicios</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/dadosdelaplace/intro-R/blob/master/10-factores.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/dadosdelaplace/intro-R/edit/master/10-factores.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Aprendiendo R sin morir en el intento</strong>" was written by Javier Álvarez Liébana. It was last built on Última actualización: 23-12-2021.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
