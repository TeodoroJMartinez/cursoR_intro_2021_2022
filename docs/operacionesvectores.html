<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Cap√≠tulo 7 Operaciones con vectores | Introducci√≥n a R: aprendiendo R sin morir en el intento</title>
<meta name="author" content="Javier √Ålvarez Li√©bana">
<meta name="description" content="Scripts usados: script07.R. Ver en https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script07.R   7.1 Vectores num√©ricos  7.1.1 Operaciones aritm√©ticas Hemos dicho ya que un...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Cap√≠tulo 7 Operaciones con vectores | Introducci√≥n a R: aprendiendo R sin morir en el intento">
<meta property="og:type" content="book">
<meta property="og:image" content="/img/logo_R.png">
<meta property="og:description" content="Scripts usados: script07.R. Ver en https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script07.R   7.1 Vectores num√©ricos  7.1.1 Operaciones aritm√©ticas Hemos dicho ya que un...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cap√≠tulo 7 Operaciones con vectores | Introducci√≥n a R: aprendiendo R sin morir en el intento">
<meta name="twitter:description" content="Scripts usados: script07.R. Ver en https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script07.R   7.1 Vectores num√©ricos  7.1.1 Operaciones aritm√©ticas Hemos dicho ya que un...">
<meta name="twitter:image" content="/img/logo_R.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/_Sen-0.4.1/font.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=DM%20Mono&amp;display=swap" rel="stylesheet">
<link href="libs/_Bitter-0.4.1/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="css/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Introducci√≥n a R: aprendiendo R sin morir en el intento</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Prefacio</a></li>
<li class="book-part">Recursos</li>
<li><a class="" href="ejercicios-recopilados.html">üìù Ejercicios recopilados</a></li>
<li><a class="" href="recursos-de-aprendizaje.html">üìö Recursos de aprendizaje</a></li>
<li class="book-part">Toma de contacto</li>
<li><a class="" href="requisitos.html"><span class="header-section-number">1</span> Requisitos</a></li>
<li><a class="" href="instalacionR.html"><span class="header-section-number">2</span> Instalaci√≥n</a></li>
<li><a class="" href="que-es-R.html"><span class="header-section-number">3</span> ¬øQu√© es R?</a></li>
<li><a class="" href="primeros-pasos.html"><span class="header-section-number">4</span> Primeros pasos</a></li>
<li class="book-part">Tipos de datos</li>
<li><a class="" href="var-num.html"><span class="header-section-number">5</span> Variables individuales: n√∫meros y caracteres</a></li>
<li><a class="" href="vectores.html"><span class="header-section-number">6</span> Vectores</a></li>
<li><a class="active" href="operacionesvectores.html"><span class="header-section-number">7</span> Operaciones con vectores</a></li>
<li><a class="" href="fechas.html"><span class="header-section-number">8</span> Fechas</a></li>
<li><a class="" href="datos.html"><span class="header-section-number">9</span> Datos estructurados</a></li>
<li><a class="" href="listas.html"><span class="header-section-number">10</span> Listas</a></li>
<li class="book-part">Haciendo el trabajo m√°s f√°cil</li>
<li><a class="" href="if-else.html"><span class="header-section-number">11</span> Estructuras de control: if-else</a></li>
<li><a class="" href="bucles.html"><span class="header-section-number">12</span> Estructuras de control: bucles</a></li>
<li><a class="" href="funciones.html"><span class="header-section-number">13</span> Funciones</a></li>
<li><a class="" href="proyecto.html"><span class="header-section-number">14</span> Proyecto de trabajo</a></li>
<li class="book-part">Colof√≥n</li>
<li><a class="" href="importar-exportar.html"><span class="header-section-number">15</span> Importar/exportar datos</a></li>
<li><a class="" href="practica-final.html"><span class="header-section-number">16</span> üìù Pr√°ctica final</a></li>
<li><a class="" href="bibliograf%C3%ADa.html">Bibliograf√≠a</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/dadosdelaplace/intro-R">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="operacionesvectores" class="section level1">
<h1>
<span class="header-section-number">Cap√≠tulo 7</span> Operaciones con vectores<a class="anchor" aria-label="anchor" href="#operacionesvectores"><i class="fas fa-link"></i></a>
</h1>
<div class="blackbox">
<p>Scripts usados:</p>
<ul>
<li>
<a href="https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script07.R"><strong>script07.R</strong></a>. Ver en <a href="https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script07.R" class="uri">https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script07.R</a>
</li>
</ul>
</div>
<div id="vectores-num√©ricos-1" class="section level2">
<h2>
<span class="header-section-number">7.1</span> Vectores num√©ricos<a class="anchor" aria-label="anchor" href="#vectores-num%C3%A9ricos-1"><i class="fas fa-link"></i></a>
</h2>
<div id="operaciones-aritm√©ticas" class="section level3">
<h3>
<span class="header-section-number">7.1.1</span> Operaciones aritm√©ticas<a class="anchor" aria-label="anchor" href="#operaciones-aritm%C3%A9ticas"><i class="fas fa-link"></i></a>
</h3>
<p>Hemos dicho ya que un n√∫mero es un vector de longitud 1, as√≠ que toda <mark><strong>operaci√≥n aritm√©tica</strong></mark> (suma, resta, multiplicaci√≥n, etc) que podamos hacer con un n√∫mero la vamos a poder a hacer con un vector de n√∫meros. Si hacemos por ejemplo la operaci√≥n <code>2 * x</code>, siendo <code>x</code> un vector, lo que suceder√° es que <mark><strong>la operaci√≥n se realizar√° en CADA ELEMENTO del vector</strong></mark>. Esto es una ventaja enorme ya podremos escribir una sola l√≠nea de c√≥digo pero realizar operaciones en 10, 20, 1000 o 100000 elementos (tantos como tenga el vector).</p>
<div class="sourceCode" id="cb605"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Multiplicamos por 2 a CADA ELEMENTO del vector</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span>
<span class="fl">2</span> <span class="op">*</span> <span class="va">x</span></code></pre></div>
<pre><code>## [1]  4  8 12</code></pre>
<p>El resultado es por tanto otro vector. De la misma manera sucede si sumamos o restamos una constante.</p>
<div class="sourceCode" id="cb607"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Sumamos 3 a CADA ELEMENTO DEL VECTOR</span>
<span class="va">x</span> <span class="op">+</span> <span class="fl">3</span></code></pre></div>
<pre><code>## [1] 5 7 9</code></pre>
<div class="sourceCode" id="cb609"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Restamos 5 a CADA ELEMENTO DEL VECTOR</span>
<span class="va">x</span> <span class="op">-</span> <span class="fl">5</span></code></pre></div>
<pre><code>## [1] -3 -1  1</code></pre>
<p>Los vectores tambi√©n pueden interactuar entre ellos, as√≠ que podemos definir sumas de vectores, como <code>x + y</code>, con <code>y &lt;- c(1, 3, 5)</code> (por ejemplo), ra√≠ces cuadradas <code><a href="https://rdrr.io/r/base/MathFun.html">sqrt(x)</a></code> o elevar <strong>cada elemento</strong> al cuadrado <code>x^2</code>.</p>
<div class="sourceCode" id="cb611"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span>
<span class="va">x</span> <span class="op">+</span> <span class="va">y</span> <span class="co"># suma de vectores </span></code></pre></div>
<pre><code>## [1]  3  7 11</code></pre>
<div class="sourceCode" id="cb613"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># Hacemos la ra√≠z cuadrada de CADA ELEMENTO DEL VECTOR</span></code></pre></div>
<pre><code>## [1] 1.414214 2.000000 2.449490</code></pre>
<div class="sourceCode" id="cb615"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">^</span><span class="fl">2</span> <span class="co"># Elevamos al cuadrado CADA ELEMENTO DEL VECTOR</span></code></pre></div>
<pre><code>## [1]  4 16 36</code></pre>
<p>¬†</p>
<p>En <code>R</code>, salvo que especifiquemos lo contrario, <strong><span style="color: #20935E;">toda operaci√≥n ARITM√âTICA que hagas a un vector ser√° elemento a elemento</span></strong>. Esto √∫ltimo es bastante importante que no se te olvide ya que en otros lenguajes no siempre es as√≠.</p>
<p>¬†</p>
<p>Dado que la operaci√≥n (por ejemplo, una suma) se realiza <strong>elemento a elemento</strong>, ¬øqu√© suceder√° si <mark><strong>sumamos dos vectores de distinta longitud</strong></mark>? Prueba a definir un vector <code>z</code> con los 4 primeros impares, e intentar hacer la suma <code>x + z</code> (un vector de longitud 3 m√°s un vector de longitud 4).</p>
<div class="sourceCode" id="cb617"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span>
<span class="va">x</span> <span class="op">+</span> <span class="va">z</span></code></pre></div>
<pre><code>## [1]  3  7 11  9</code></pre>
<p><code>R</code> intenta molestarte lo menos posible, as√≠ que lo que hace es <mark><strong>reciclar elementos</strong></mark>: si tiene un vector de 4 elementos y le intentas sumar uno de 3 elementos, lo que har√° ser√° <strong>reciclar</strong> elementos del vector con menor longitud: har√° <code>1 + 2</code>, <code>3 + 4</code>, <code>5 + 6</code> pero‚Ä¶ <code>7 + 2</code> (vuelve al primero).</p>
<p>¬†</p>
<p>Como hemos comentado anteriormente, los <mark><strong>valores l√≥gicos</strong></mark><code>TRUE/FALSE</code> son guardados internamente como <code>0/1</code> por lo que podemos usar <mark><strong>operaciones aritm√©ticas</strong></mark> con ellos. Por ejemplo, si queremos averiguar el n√∫mero de elementos de un vector que cumplen una condici√≥n l√≥gica (por ejemplo, <code>&lt; 3</code>), los que lo hagan tendr√°n asignado un <code>1</code> y los que no un <code>0</code>, por lo que basta con <mark><strong>sumar dicho vector l√≥gico</strong></mark> para obtener el n√∫mero de elementos que cumplen dicha condici√≥n (elementos que son <code>TRUE</code>).</p>
<div class="sourceCode" id="cb619"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">3</span><span class="op">)</span> <span class="co"># sumamos el vector de TRUE/FALSE --&gt; n√∫mero de valores TRUE</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
</div>
<div id="operaciones-estad√≠sticas" class="section level3">
<h3>
<span class="header-section-number">7.1.2</span> Operaciones estad√≠sticas<a class="anchor" aria-label="anchor" href="#operaciones-estad%C3%ADsticas"><i class="fas fa-link"></i></a>
</h3>
<p>Al igual que podemos ejecutar operaciones aritm√©ticas, podemos realizar tambi√©n <mark><strong>operaciones estad√≠sticas</strong></mark> con los vectores, como calcular su suma (<code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code>), su media (<code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>), su mediana (<code><a href="https://rdrr.io/r/stats/median.html">median()</a></code>) o su suma acumulada (<code><a href="https://rdrr.io/r/base/cumsum.html">cumsum()</a></code> cada elemento lo acumula al anterior).</p>
<p>Hagamos antes un <mark><strong>breve repaso de algunos t√©rminos estad√≠sticos</strong></mark>:</p>
<ul>
<li>
<strong><span style="color: #4197D2;">Media</span></strong>: medida de centralizaci√≥n que consiste en sumar todos los elementos y dividirlos entre la cantidad de elementos sumados. A pesar de ser la m√°s conocida, la media es <strong>muy poco robusta</strong>: dado un conjunto, si se introducen <strong>valores at√≠picos o outliers</strong> (valores muy grandes o muy peque√±os), la media se perturbar con mucha facilidad (por ejemplo, el salario medio en un pa√≠s con mucha desigualdad no tiene valor estad√≠stico ya que est√° perturbado por las altas fortunas). Dado un vector de valores <span class="math inline">\(x = (x_1, \ldots, x_n)\)</span>, se denota como <span class="math inline">\(\overline{x}\)</span>.</li>
</ul>
<p><span class="math display">\[\overline{x} = \frac{\displaystyle \sum_{i=1}^{n}x_i}{n}\]</span></p>
<ul>
<li>
<strong><span style="color: #4197D2;">Mediana</span></strong>: medida de centralizaci√≥n que consiste en, tras ordenar los datos de menor a mayor, quedarnos con el valor que ocupa el medio (deja tantos n√∫meros por debajo como por encima). M√°s robusta que la media aunque menos que la moda. Dado un vector de valores <span class="math inline">\(x = (x_1, \ldots, x_n)\)</span>, se denota como <span class="math inline">\(Me_x\)</span>.</li>
</ul>
<p><span class="math display">\[Me_x = \displaystyle \arg \min_{x_i} \left\lbrace F_i &gt; 0.5 \right\rbrace, \quad F_i = \frac{\#\left\lbrace x_j \leq x_i \right\rbrace}{n}\]</span></p>
<ul>
<li>
<strong><span style="color: #4197D2;">Moda</span></strong>: medida de centralizaci√≥n que consiste en encontrar el valor m√°s repetido (el valor <em>trending</em>). Es la medida de centralizaci√≥n m√°s robusta. Dado un vector de valores <span class="math inline">\(x = (x_1, \ldots, x_n)\)</span>, se denota como <span class="math inline">\(Mo_x\)</span>.</li>
</ul>
<p><span class="math display">\[Mo_x = \displaystyle \arg \max_{x_i} f_i  , \quad f_i = \frac{\#\left\lbrace x_j = x_i \right\rbrace}{n}\]</span></p>
<p>¬†</p>
<p>He aqu√≠ un ejemplo de algunas funciones estad√≠sticas √∫tiles</p>
<div class="sourceCode" id="cb621"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="co"># suma</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb623"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="co"># media</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb625"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="co"># mediana</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb627"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="co"># suma acumulada</span></code></pre></div>
<pre><code>## [1] 1 4 9</code></pre>
<p>Otra operaci√≥n √∫til en estad√≠stica es calcular los <mark><strong>percentiles</strong></mark> con la funci√≥n <code>quantiles()</code>.</p>
<div class="sourceCode" id="cb629"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">11</span>, <span class="fl">13</span>, <span class="fl">15</span>, <span class="fl">20</span>, <span class="fl">23</span>, <span class="fl">24</span>, <span class="fl">29</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="co"># Percentiles por defecto: cuartiles (0%-25%-50%-75%-100%)</span></code></pre></div>
<pre><code>##    0%   25%   50%   75%  100% 
##  1.00  7.25 10.00 16.25 29.00</code></pre>
<p>Recuerda que en <code>R</code> algunas <strong>funciones tienen argumentos por defecto</strong>, argumentos que no necesitan ser asignados un valor a priori. En el ejemplo de calcular los percentiles con <code><a href="https://rdrr.io/r/stats/quantile.html">quantile()</a></code>, hay un argumento por defecto (con un valor ya asignado sino se especifica lo contrario) que es <code>probs = c(0, 0.25, 0.5, 0.75, 1)</code>. Pero dicho argumento por defecto puede ser cambiado, por ejemplo, para sacar los percentiles 15%-30%-70%-90%.</p>
<div class="sourceCode" id="cb631"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">11</span>, <span class="fl">13</span>, <span class="fl">15</span>, <span class="fl">20</span>, <span class="fl">23</span>, <span class="fl">24</span>, <span class="fl">29</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">y</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.15</span>, <span class="fl">0.3</span>, <span class="fl">0.7</span>, <span class="fl">0.9</span><span class="op">)</span><span class="op">)</span> <span class="co"># Percentiles p15, p30, p70 y p90</span></code></pre></div>
<pre><code>##  15%  30%  70%  90% 
##  5.0  8.5 14.0 23.5</code></pre>
</div>
<div id="operacionesausentes" class="section level3">
<h3>
<span class="header-section-number">7.1.3</span> Operaciones con ausentes<a class="anchor" aria-label="anchor" href="#operacionesausentes"><i class="fas fa-link"></i></a>
</h3>
<p>Imagina que tenemos un vector de temperaturas pero varios de los d√≠as el aparato de medici√≥n no funcionaba, por lo que tenemos un ausente <code>NA</code>.</p>
<div class="sourceCode" id="cb633"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">21</span>, <span class="cn">NA</span>, <span class="fl">13</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">25</span>, <span class="fl">36</span>, <span class="fl">17</span>, <span class="fl">19</span>, <span class="fl">5</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>Dado que hay d√≠as que no tenemos disponibles, la suma de todos los d√≠as tampoco la podemos conocer (salvo que obviemos los d√≠as donde no tenemos dato). Para evitar que un dato ausente en nuestros datos nos impida hacer ciertas operaciones, en muchas funciones de <code>R</code> podemos a√±adir el argumento <code>na.rm = TRUE</code>: <mark><strong>primero elimina los datos ausentes</strong></mark>, y luego ejecuta la funci√≥n.</p>
<div class="sourceCode" id="cb635"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># eliminando datos ausentes antes de aplicar la funci√≥n</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </code></pre></div>
<pre><code>## [1] 136</code></pre>
<div class="sourceCode" id="cb637"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 19.42857</code></pre>
</div>
</div>
<div id="seleccionar-elementos" class="section level2">
<h2>
<span class="header-section-number">7.2</span> Seleccionar elementos<a class="anchor" aria-label="anchor" href="#seleccionar-elementos"><i class="fas fa-link"></i></a>
</h2>
<p>Ya sabemos definir variables que sean vectores (recuerda: colecci√≥n de valores del <strong>mismo tipo</strong>). ¬øY si del <mark><strong>vector original queremos EXTRAER UN SUBCONJUNTO del mismo</strong></mark>, por ejemplo, los primeros 10 elementos?</p>
<p><code>R</code> tiene varias formas de hacer esto pero la m√°s sencilla es entendiendo que si yo quiero <mark><strong>acceder al elemento i-√©simo</strong></mark> de un vector, deber√© usar el <strong>operador de selecci√≥n <code>[i]</code></strong>. Veamos un ejemplo: definimos las edades de cinco personas y queremos saber la edad de la persona que ocupa el tercer lugar.</p>
<div class="sourceCode" id="cb639"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">edades</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">32</span>, <span class="cn">NA</span>, <span class="fl">61</span><span class="op">)</span>
<span class="va">edades</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="co"># accedemos a la edad de la tercera persona en la lista</span></code></pre></div>
<pre><code>## [1] 32</code></pre>
<div class="sourceCode" id="cb641"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">edades</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span> <span class="co"># accedemos a la edad de la cuarta persona (que no la tenemos guardada)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>Un n√∫mero no es m√°s que un vector de longitud uno, as√≠ que esta operaci√≥n tambi√©n la podemos aplicar <mark><strong>usando un vector de √≠ndices a seleccionar</strong></mark>, de forma que le podemos indicar simultaneamente que valores que queremos (por ejemplo, al tercer y cuarto elemento de nuestras edades).</p>
<div class="sourceCode" id="cb643"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">edades</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">]</span> <span class="co"># queremos acceder a la vez al tercer y cuarto elemento</span></code></pre></div>
<pre><code>## [1] 32 NA</code></pre>
<p>Esta l√≥gica para acceder a elementos de vectores tambi√©n sirve para nuestros <mark><strong>vectores de caracteres</strong></mark>.</p>
<div class="sourceCode" id="cb645"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"hola"</span>, <span class="st">"qu√©"</span>, <span class="st">"tal"</span>, <span class="st">"todo"</span>, <span class="st">"ok"</span>, <span class="st">"?"</span><span class="op">)</span>
<span class="va">y</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="co"># Solo queremos acceder a los elementos en la posici√≥n 1 y 2</span></code></pre></div>
<pre><code>## [1] "hola" "qu√©"</code></pre>
<p>Para acceder al √∫ltimo elemento de un vector podemos pasarle como √≠ndice la longitud de dicho vector (si el vector tiene longitud 6, el √∫ltimo elemento ocupar√° el lugar 6).</p>
<div class="sourceCode" id="cb647"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Accedemos a los elementos en la posici√≥n 1, 2 y adem√°s el</span>
<span class="co"># que ocupa la √∫ltima posici√≥n</span>
<span class="va">y</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span><span class="op">]</span> </code></pre></div>
<pre><code>## [1] "hola" "qu√©"  "?"</code></pre>
<p>Otras veces no querremos seleccionar un elemento en concreto sino <mark><strong>filtrar algunos elementos en concreto y no extraerlos, eliminarlos</strong></mark>, para lo cual deberemos repetir la misma operaci√≥n pero con el signo <code><a href="https://rdrr.io/r/base/Arithmetic.html">-</a></code> delante: el operador <code>[-i]</code> no selecciona el elemento i-√©simo del vector sino que lo elimina en nuestro filtro.</p>
<div class="sourceCode" id="cb649"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span></code></pre></div>
<pre><code>## [1] "hola" "qu√©"  "tal"  "todo" "ok"   "?"</code></pre>
<div class="sourceCode" id="cb651"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span><span class="op">[</span><span class="op">-</span><span class="fl">2</span><span class="op">]</span> <span class="co"># Nos muestra todo y salvo el elemento que ocupa la segunda posici√≥n</span></code></pre></div>
<pre><code>## [1] "hola" "tal"  "todo" "ok"   "?"</code></pre>
<p>¬†</p>
<p>Sin embargo, <strong>lo habitual</strong> es que dicho <strong>filtro</strong> lo hagamos en base a una <mark><strong>condici√≥n l√≥gica</strong></mark>. Supongamos que <code>edades_1 &lt;- c(7, 20, 18, 3, 19, 9, 13, 3, 45)</code> e <code>edades_2 &lt;- c(17, 21, 58, 33, 15, 59, 13, 1, 45)</code> son las edades de dos grupos de personas y que queremos quedarnos solo con los mayores edad. ¬øTenemos que andar averiguando en que posici√≥n se encuentran para luego seleccionarlos? No, vamos a <mark><strong>seleccionar los elementos que cumplen una condici√≥n dada</strong></mark>.</p>
<div class="sourceCode" id="cb653"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">edades_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">20</span>, <span class="fl">18</span>, <span class="fl">3</span>, <span class="fl">19</span>, <span class="fl">9</span>, <span class="fl">13</span>, <span class="fl">3</span>, <span class="fl">45</span><span class="op">)</span>
<span class="va">edades_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">17</span>, <span class="fl">21</span>, <span class="fl">58</span>, <span class="fl">33</span>, <span class="fl">15</span>, <span class="fl">59</span>, <span class="fl">13</span>, <span class="fl">1</span>, <span class="fl">45</span><span class="op">)</span>
<span class="va">edades_1</span><span class="op">[</span><span class="va">edades_1</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">]</span> <span class="co"># mayores de 18 a√±os del conjunto x</span></code></pre></div>
<pre><code>## [1] 20 18 19 45</code></pre>
<div class="sourceCode" id="cb655"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">edades_2</span><span class="op">[</span><span class="va">edades_2</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">]</span> <span class="co"># mayores de 18 a√±os del conjunto y</span></code></pre></div>
<pre><code>## [1] 21 58 33 59 45</code></pre>
<p>Lo que hemos hecho ha sido pasar como <strong>√≠ndices a seleccionar un vector l√≥gico <code>TRUE/FALSE</code></strong>: solo filtrar√° los lugares donde se guarde un <code>TRUE</code>, aquellos que cumplen la condici√≥n l√≥gica introducida.</p>
<div class="sourceCode" id="cb657"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">edades_1</span> <span class="op">&gt;=</span> <span class="fl">18</span> <span class="co"># donde haya TRUE, lo seleccionar√°</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE FALSE  TRUE FALSE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb659"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">edades_1</span><span class="op">[</span><span class="va">edades_1</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">]</span> <span class="co"># mayores de 18 a√±os del conjunto x</span></code></pre></div>
<pre><code>## [1] 20 18 19 45</code></pre>
<p>Esto tambi√©n nos puede servir para limpiar de datos ausentes, combinando la funci√≥n <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code>, que nos localiza el lugar que ocupan los ausentes, con el operador <code><a href="https://rdrr.io/r/base/Logic.html">!</a></code>, que lo que hace es negar el valor l√≥gico que venga detr√°s.</p>
<div class="sourceCode" id="cb661"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="cn">NA</span>, <span class="fl">20</span>, <span class="fl">3</span>, <span class="fl">19</span>, <span class="fl">21</span>, <span class="fl">25</span>, <span class="fl">80</span>, <span class="cn">NA</span><span class="op">)</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span> <span class="co"># solo valores ausentes</span></code></pre></div>
<pre><code>## [1] NA NA</code></pre>
<div class="sourceCode" id="cb663"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span> <span class="co"># sin valores ausentes: ! es el s√≠mbolo de la negaci√≥n</span></code></pre></div>
<pre><code>## [1]  7 20  3 19 21 25 80</code></pre>
<p>Tambi√©n podemos probar a <mark><strong>combinar condiciones l√≥gicas</strong></mark> para nuestra <strong>selecci√≥n</strong>.</p>
<div class="sourceCode" id="cb665"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;=</span> <span class="fl">18</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">25</span><span class="op">]</span> <span class="co"># los valores que cumplen ambas (&amp;): entre 18 y 25 a√±os</span></code></pre></div>
<pre><code>## [1] NA 20 19 21 25 NA</code></pre>
<p>Como ves, si un valor est√° ausente (<code>NA</code>), la evaluaci√≥n de una condici√≥n l√≥gica sobre √©l (mayor o menor de 18 a√±os) nos seguir√° devolviendo <code>NA</code> en dicho lugar</p>
<p>¬†</p>
<div id="which" class="section level3">
<h3>
<span class="header-section-number">7.2.1</span> which<a class="anchor" aria-label="anchor" href="#which"><i class="fas fa-link"></i></a>
</h3>
<p>Hemos visto como seleccionar elementos de un vector que cumplen una condici√≥n, para a veces no queremos el elemento en s√≠, sino el <mark><strong>lugar que ocupa</strong></mark>: <strong>¬øqu√© valores de un vector cumplen una condici√≥n l√≥gica, qu√© lugar ocupan?</strong> Para obtener dicho √≠ndice tenemos a nuestro disposici√≥n la funci√≥n <code><a href="https://rdrr.io/r/base/which.html">which()</a></code>, que no nos devuelve el elemento en s√≠ sino su lugar.</p>
<div class="sourceCode" id="cb667"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="cn">NA</span>, <span class="fl">20</span>, <span class="fl">3</span>, <span class="fl">19</span>, <span class="fl">21</span>, <span class="fl">25</span>, <span class="fl">80</span>, <span class="cn">NA</span><span class="op">)</span>
<span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">]</span> <span class="co"># Accedemos a los elementos que cumplen la condici√≥n</span></code></pre></div>
<pre><code>## [1] NA 20 19 21 25 80 NA</code></pre>
<div class="sourceCode" id="cb669"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">)</span> <span class="co"># Obtenemos los lugares que ocupan los elementos que cumplen la condici√≥n</span></code></pre></div>
<pre><code>## [1] 3 5 6 7 8</code></pre>
<p>Esta funci√≥n es muy √∫til especialmente cuando queremos <strong>averiguar el valor que ocupa el m√°ximo/m√≠nimo</strong> de una colecci√≥n de valores, con las funciones <code><a href="https://rdrr.io/r/base/which.min.html">which.max()</a></code> y <code><a href="https://rdrr.io/r/base/which.min.html">which.min()</a></code>.</p>
<div class="sourceCode" id="cb671"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span></code></pre></div>
<pre><code>## [1]  7 NA 20  3 19 21 25 80 NA</code></pre>
<div class="sourceCode" id="cb673"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># m√°ximo de x (si no eliminamos NA, nos devolver√° NA)</span></code></pre></div>
<pre><code>## [1] 80</code></pre>
<div class="sourceCode" id="cb675"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># m√≠nimo de x (si no eliminamos NA, nos devolver√° NA)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb677"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/which.min.html">which.max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># Lugar que ocupa el m√°ximo</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb679"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/which.min.html">which.min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># Lugar que ocupa el m√≠nimo</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
</div>
<div id="null" class="section level3">
<h3>
<span class="header-section-number">7.2.2</span> NULL<a class="anchor" aria-label="anchor" href="#null"><i class="fas fa-link"></i></a>
</h3>
<p>A veces adem√°s de <code>NA</code> y <code>NaN</code>, <code>R</code> nos muestra un dato llamado <code>NULL</code>. Cuando tenemos <code>NA</code> en alguna variable, el registro existe, pero no est√° relleno. Sin embargo, cuando tenemos un <code>NULL</code> significa que ese valor ni siquiera existe: no es un dato guardado pero cuyo valor desconocemos, es un dato que ni siquiera existe (por ejemplo, si guardamos datos de 7 personas, el dato de la octava persona no es <code>NA</code>, es que no hay octava persona directamente).</p>
<div class="sourceCode" id="cb681"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">3</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>
<span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="co"># NA: el registro existe pero sin dato</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb683"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># No hemos definido el nombre de las variables, as√≠ que devuelve NULL</span></code></pre></div>
<pre><code>## NULL</code></pre>
</div>
</div>
<div id="nombrando-vectores-a√±adiendo-metainformaci√≥n" class="section level2">
<h2>
<span class="header-section-number">7.3</span> Nombrando vectores: a√±adiendo metainformaci√≥n<a class="anchor" aria-label="anchor" href="#nombrando-vectores-a%C3%B1adiendo-metainformaci%C3%B3n"><i class="fas fa-link"></i></a>
</h2>
<p>Adem√°s <code>R</code> nos permite <mark><strong>dar significado l√©xico</strong></mark> a nuestros valores (significan algo, no solo n√∫meros), pudiendo poner <strong>nombres a los elementos de un vector</strong>.</p>
<div class="sourceCode" id="cb685"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"edad"</span> <span class="op">=</span> <span class="fl">31</span>, <span class="st">"tlf"</span> <span class="op">=</span> <span class="fl">613910687</span>, <span class="st">"cp"</span> <span class="op">=</span> <span class="fl">33007</span><span class="op">)</span> <span class="co"># cada n√∫mero tiene un significado distinto</span>
<span class="va">x</span></code></pre></div>
<pre><code>##      edad       tlf        cp 
##        31 613910687     33007</code></pre>
<p>Esto es una ventaja ya que nos permite su selecci√≥n usando dichos nombres: ya no elegimos el tercer n√∫mero o el primero, sino el n√∫mero que representa el tel√©fono y el c√≥digo postal de una persona.</p>
<div class="sourceCode" id="cb687"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"edad"</span>, <span class="st">"cp"</span><span class="op">)</span><span class="op">]</span> <span class="co"># seleccionamos los elementos que tienen ese nombre asignado</span></code></pre></div>
<pre><code>##  edad    cp 
##    31 33007</code></pre>
<p>Con la funci√≥n <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> podemos, no solo consultar los nombres de una variable, sino cambiarlos a nuestro gusto.</p>
<div class="sourceCode" id="cb689"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># Consultamos nombres</span></code></pre></div>
<pre><code>## [1] "edad" "tlf"  "cp"</code></pre>
<div class="sourceCode" id="cb691"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a√±os"</span>, <span class="st">"m√≥vil"</span>, <span class="st">"direcci√≥n"</span><span class="op">)</span> <span class="co"># Cambiamos nombres</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># Consultamos nuevos nombres</span></code></pre></div>
<pre><code>## [1] "a√±os"      "m√≥vil"     "direcci√≥n"</code></pre>
<div class="sourceCode" id="cb693"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span></code></pre></div>
<pre><code>##      a√±os     m√≥vil direcci√≥n 
##        31 613910687     33007</code></pre>
<p>M√°s adelante dejaremos introducidos un tipo de dato m√°s apropiado para guardar datos en ¬´formato tabla¬ª, que se compondr√° de una concetenaci√≥n de concatenaciones, una concatenaci√≥n de columnas (de vectores).</p>
</div>
<div id="ordenar" class="section level2">
<h2>
<span class="header-section-number">7.4</span> Ordenar<a class="anchor" aria-label="anchor" href="#ordenar"><i class="fas fa-link"></i></a>
</h2>
<p>Una acci√≥n habitual al trabajar con datos es <mark><strong>saber ordenarlos</strong></mark>: de menor a mayor edad, datos m√°s recientes vs antiguos, etc. Para ello tenemos la funci√≥n <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code>, que podemos usar directamente para <strong>ordenar de menor a mayor</strong>. Vamos a ordenar, por ejemplo, una colecci√≥n de edades de diferentes personas.</p>
<div class="sourceCode" id="cb695"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">edades</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">81</span>, <span class="fl">7</span>, <span class="fl">25</span>, <span class="fl">41</span>, <span class="fl">65</span>, <span class="fl">20</span>, <span class="fl">32</span>, <span class="fl">23</span>, <span class="fl">77</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">edades</span><span class="op">)</span> <span class="co"># orden de joven a mayor</span></code></pre></div>
<pre><code>## [1]  7 20 23 25 32 41 65 77 81</code></pre>
<p>Por defecto, <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> <strong>ordena de menor a mayor</strong>. Con el argumento opcional <code>decreasing = TRUE</code> podemos <strong>ordenar de mayor a menor</strong>.</p>
<div class="sourceCode" id="cb697"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">edades</span>, decreasing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># orden de mayor a joven</span></code></pre></div>
<pre><code>## [1]  7 20 23 25 32 41 65 77 81</code></pre>
<p>Otra forma de ordenar un vector es que <code>R</code> nos <strong>devuelva los √≠ndices de los elementos ordenados</strong>, y luego usar dichos √≠ndices para reorganizar los elementos, con la funci√≥n <code><a href="https://rdrr.io/r/base/order.html">order()</a></code>.</p>
<div class="sourceCode" id="cb699"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> </code></pre></div>
<pre><code>## [1] 1 3 2</code></pre>
<div class="sourceCode" id="cb701"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span> <span class="co"># accedemos a los √≠ndices ordenados</span></code></pre></div>
<pre><code>##      a√±os direcci√≥n     m√≥vil 
##        31     33007 613910687</code></pre>
</div>
<div id="consejos-4" class="section level2">
<h2>
<span class="header-section-number">7.5</span> Consejos<a class="anchor" aria-label="anchor" href="#consejos-4"><i class="fas fa-link"></i></a>
</h2>
<p><strong><span style="color: #20935E;">CONSEJOS</span></strong></p>
<p>¬†</p>
<p><strong><span style="color: #20935E;">Operaciones estad√≠sticas</span></strong></p>
<p>Como has podido comprobar, las <strong><span style="color: #20935E;">operaciones ESTAD√çSTICAS no se realizan elemento a elemento</span></strong>: la media o la suma las realiza tomando todos los elementos del vector.</p>
<p>¬†</p>
<p><strong><span style="color: #20935E;">all, any</span></strong></p>
<p>Existen dos funciones muy √∫tiles en <code>R</code> para saber si <strong>TODOS</strong> o <strong>ALGUNO</strong> de los elementos de un vector cumple una condici√≥n. Las funciones <code><a href="https://rdrr.io/r/base/all.html">all()</a></code> y <code><a href="https://rdrr.io/r/base/any.html">any()</a></code> nos devolver√° un √∫nico valor l√≥gico. Estas funciones son muy √∫tiles al final de los c√≥digos para comprobar que las condiciones que tienen que verificar los datos se cumplen, y asegurarnos que el proceso se ha ejecutado correctamente (por ejemplo, que todos los datos sean positivos o no haya datos ausentes).</p>
<div class="sourceCode" id="cb703"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="cn">NA</span>, <span class="fl">7</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb705"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb707"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb709"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb711"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb713"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>¬†</p>
<p><strong><span style="color: #20935E;">Argumentos por defecto</span></strong></p>
<p>La funci√≥n <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> es un buen ejemplo de que las <strong>funciones traen definidos argumentos por defecto</strong> (aunque no los veamos a priori). La orden <code><a href="https://rdrr.io/r/base/sort.html">sort(x)</a></code> en realidad est√° ejecutando <code><a href="https://rdrr.io/r/base/sort.html">sort(x, decreasing = TRUE)</a></code>, pero como es su valor por defecto, nos podemos ahorrar incluirlo. Escribe <code>? help sort()</code> en la consola y ver√°s como en la cabecera de la funci√≥n ya hay preasignado un <code>decreasing = TRUE</code>.</p>
<p>¬†</p>
<p><strong><span style="color: #20935E;">Diferencia de conjuntos</span></strong></p>
<p>Una funci√≥n muy √∫til para ver las <strong>diferencias entre dos conjuntos</strong> es <code><a href="https://rdrr.io/pkg/generics/man/setops.html">setdiff()</a></code>, una funci√≥n que nos devuelve los elementos distintos entre dos conjuntos.</p>
<div class="sourceCode" id="cb715"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>
<span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">7</span>, <span class="fl">10</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/generics/man/setops.html">setdiff</a></span><span class="op">(</span><span class="va">y</span>, <span class="va">z</span><span class="op">)</span> <span class="co"># Elementos en y que no est√°n en z </span></code></pre></div>
<pre><code>## [1] 2 4 5 6 8 9</code></pre>
<p>¬†</p>
<p><strong><span style="color: #20935E;">Optimiza tu c√≥digo</span></strong></p>
<p>Aunque parezca un tema menor, si tu c√≥digo tarda 1 milisegundo m√°s de lo que podr√≠a tardar de otra forma, si esa orden se repite muchas veces, ese milisegundo extra puede ser 5, 10 o 20 minutos m√°s que tu c√≥digo tardar√° en ejecutarse. Hay un paquete muy √∫til en <code>R</code> para medir tiempos de distintas √≥rdenes que hacen lo mismo (el paquete <a href="https://github.com/joshuaulrich/microbenchmark/">microbenchmark</a>), vamos a instalarlo.</p>
<div class="sourceCode" id="cb717"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"microbenchmark"</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/joshuaulrich/microbenchmark/">microbenchmark</a></span><span class="op">)</span></code></pre></div>
<p>Este paquete contiene una orden para comparar el tiempo de dos √≥rdenes: necesita como primeros argumentos las dos √≥rdenes cuyos tiempos vamos a comparar, y un argumento <code>times</code> en el que le indicamos el n√∫mero de veces que ejecutar√° cada orden para realizar los tiempos medios. Vamos a comparar los comandos de ordenaci√≥n <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> y <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code>.</p>
<div class="sourceCode" id="cb718"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1e3</span><span class="op">)</span> <span class="co"># 1000 elementos aleatorias de una normal N(0, 1)</span>
<span class="fu"><a href="https://rdrr.io/pkg/microbenchmark/man/microbenchmark.html">microbenchmark</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="co"># primera forma</span>
               <span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span>, <span class="co"># segunda forma</span>
               times <span class="op">=</span> <span class="fl">1e3</span><span class="op">)</span> <span class="co"># se repetir√° 1000 veces</span></code></pre></div>
<pre><code>## Unit: microseconds
##         expr    min     lq     mean  median      uq     max neval cld
##      sort(x) 42.728 51.243 60.70197 56.8795 61.8135 299.026  1000   b
##  x[order(x)] 30.195 37.243 43.76413 39.7965 43.9700 376.923  1000  a</code></pre>
<p>Aunque a priori parezca contraintuitivo, es m√°s corto obtener los √≠ndices ordenados de un vector, y luego reordenarlo en base a esos √≠ndices, que la ordenaci√≥n directa a trav√©s del comando <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> (ya que usan algoritmos de ordenaci√≥n distintos).</p>
</div>
<div id="ejercicios-4" class="section level2">
<h2>
<span class="header-section-number">7.6</span> üìù Ejercicios<a class="anchor" aria-label="anchor" href="#ejercicios-4"><i class="fas fa-link"></i></a>
</h2>
<p>(haz click en las flechas para ver soluciones)</p>
<details><p><summary>üìù<strong>Ejercicio 1</strong>: define el vector <code>x</code> como la concatenaci√≥n de los n√∫meros 1, 10, -1 y 2, y calcula su suma.</summary></p>
<!-- toc -->
<ul>
<li>Soluci√≥n:</li>
</ul>
<div class="sourceCode" id="cb720"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Vector de n√∫meros</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>

<span class="co"># Suma</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<!-- tocstop -->
</details><p>¬†</p>
<details><p><summary>üìù<strong>Ejercicio 2</strong>: define otro vector <code>y</code> que contenga los n√∫meros <code>5, -7, 8, -3</code>, y haz la suma de <code>x</code> e <code>y</code>. </summary></p>
<!-- toc -->
<ul>
<li>Soluci√≥n:</li>
</ul>
<div class="sourceCode" id="cb722"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Vector de n√∫meros</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="op">-</span><span class="fl">7</span>, <span class="fl">8</span>, <span class="op">-</span><span class="fl">3</span><span class="op">)</span>

<span class="co"># Suma</span>
<span class="va">x</span> <span class="op">+</span> <span class="va">y</span></code></pre></div>
<pre><code>## [1]  6  3  7 -1</code></pre>
<!-- tocstop -->
</details><p>¬†</p>
<details><p><summary>üìù<strong>Ejercicio 3</strong>: calcula el n√∫mero de elementos mayores que 0 del resultado de la suma de <code>x + y</code>. </summary></p>
<!-- toc -->
<ul>
<li>Soluci√≥n:</li>
</ul>
<div class="sourceCode" id="cb724"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="va">y</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb726"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Otra forma</span>
<span class="va">suma</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">suma</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<!-- tocstop -->
</details><p>¬†</p>
<details><p><summary>üìù<strong>Ejercicio 4</strong>: calcula la versi√≥n ordenada del vector <code>x</code>. </summary></p>
<!-- toc -->
<ul>
<li>Soluci√≥n:</li>
</ul>
<div class="sourceCode" id="cb728"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Ordenamos el vector (con sort)</span>
<span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] -1  1  2 10</code></pre>
<div class="sourceCode" id="cb730"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Ordenamos el vector  (con order)</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] -1  1  2 10</code></pre>
<!-- tocstop -->
</details><p>¬†</p>
<details><p><summary>üìù<strong>Ejercicio 5</strong>: encuentra del vector <code>x</code> original el lugar (el √≠ndice) que ocupa su m√≠nimo y su m√°ximo. </summary></p>
<!-- toc -->
<ul>
<li>Soluci√≥n:</li>
</ul>
<div class="sourceCode" id="cb732"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>

<span class="co"># Encontrando el lugar que ocupa el m√°ximo y m√≠nimo</span>
<span class="fu"><a href="https://rdrr.io/r/base/which.min.html">which.max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb734"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/which.min.html">which.min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<!-- tocstop -->
</details><p>¬†</p>
<details><p><summary>üìù<strong>Ejercicio 6</strong>: encuentra del vector <code>x</code> los elementos mayores que 1 y menores que 7. Encuentra una forma de averiguar si todos los elementos son o no positivos. </summary></p>
<!-- toc -->
<ul>
<li>Soluci√≥n:</li>
</ul>
<div class="sourceCode" id="cb736"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Vector l√≥gico: mayores que 1 y menores que 7</span>
<span class="va">x</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="fl">7</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb738"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ¬øSon todos positivos? Mira tambi√©n any()</span>
<span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<!-- tocstop -->
</details><p>¬†</p>
<details><p><summary>üìù<strong>Ejercicio 7</strong>: define el vector <code><a href="https://rdrr.io/r/base/c.html">c(-1, 0, 4, 5, -2)</a></code>, calcula la ra√≠z cuadrada del vector y determina que lugares son ausente de tipo <code>NaN</code>. </summary></p>
<!-- toc -->
<ul>
<li>Soluci√≥n:</li>
</ul>
<div class="sourceCode" id="cb740"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Vector</span>
<span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span>

<span class="co"># ¬øCu√°les son ausentes tras aplicar la ra√≠z cuadrada?</span>
<span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.nan</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE FALSE  TRUE</code></pre>
<!-- tocstop -->
</details><p>¬†</p>
<details><p><summary>üìù<strong>Ejercicio 8</strong>: define el vector de los primeros n√∫meros impares (hasta el 21) y extrae los elementos que ocupan los lugares 1, 4, 5, 8. Elimina del vector el segundo elemento</summary></p>
<!-- toc -->
<ul>
<li>Soluci√≥n:</li>
</ul>
<div class="sourceCode" id="cb742"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Vector de impares (de 1 a 21 saltando de dos en dos)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">21</span>, by <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>

<span class="co"># Seleccionamos elementos</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">8</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [1]  1  7  9 15</code></pre>
<div class="sourceCode" id="cb744"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Eliminamos elementos</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="fl">2</span><span class="op">]</span>
<span class="va">y</span></code></pre></div>
<pre><code>##  [1]  1  5  7  9 11 13 15 17 19 21</code></pre>
<!-- tocstop -->
</details><p>¬†</p>
<details><p><summary>üìù<strong>Ejercicio 9</strong>: define una cadena de caracteres <code>texto &lt;- c("oso polar", "oso pardo", "salamandra", "buho", "lechuza", "oso malayo")</code>. Usa <code><a href="https://rdrr.io/pkg/stringr/man/str_count.html">str_count()</a></code> para contabilizar el n√∫mero de osos. Usa <code><a href="https://rdrr.io/pkg/stringr/man/str_starts.html">str_starts()</a></code> para saber que elemento del vector es un oso o no. Obten la longitud de cada cadena. Sustituye en todas las cadenas la <code>o</code> por <code><a href="https://rdrr.io/r/base/Arithmetic.html">*</a></code></summary></p>
<!-- toc -->
<ul>
<li>Soluci√≥n:</li>
</ul>
<div class="sourceCode" id="cb746"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">texto</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"oso polar"</span>, <span class="st">"oso pardo"</span>, <span class="st">"salamandra"</span>, <span class="st">"buho"</span>, <span class="st">"lechuza"</span>, <span class="st">"oso malayo"</span><span class="op">)</span>

<span class="co"># Cuenta el n√∫mero de cadenas que contienen la palabra "oso"</span>
<span class="fu"><a href="https://rdrr.io/pkg/stringr/man/str_count.html">str_count</a></span><span class="op">(</span><span class="va">texto</span>, <span class="st">"oso"</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 1 1 0 0 0 1</code></pre>
<div class="sourceCode" id="cb748"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Nos devuelve TRUE en las cadenas que empiecen por "oso"</span>
<span class="fu"><a href="https://rdrr.io/pkg/stringr/man/str_starts.html">str_starts</a></span><span class="op">(</span><span class="va">texto</span>, <span class="st">"oso"</span><span class="op">)</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb750"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/stringr/man/str_starts.html">str_ends</a></span><span class="op">(</span><span class="va">texto</span>, <span class="st">"oso"</span><span class="op">)</span> <span class="co"># devuelve todo FALSE</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb752"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Longitud de cada cadena</span>
<span class="fu"><a href="https://rdrr.io/pkg/stringr/man/str_length.html">str_length</a></span><span class="op">(</span><span class="va">texto</span><span class="op">)</span></code></pre></div>
<pre><code>## [1]  9  9 10  4  7 10</code></pre>
<div class="sourceCode" id="cb754"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Sustituimos en todas las oes por *</span>
<span class="fu"><a href="https://rdrr.io/pkg/stringr/man/str_replace.html">str_replace_all</a></span><span class="op">(</span><span class="va">texto</span>, <span class="st">"o"</span>, <span class="st">"*"</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "*s* p*lar"  "*s* pard*"  "salamandra" "buh*"       "lechuza"   
## [6] "*s* malay*"</code></pre>
<!-- tocstop -->
</details>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="vectores.html"><span class="header-section-number">6</span> Vectores</a></div>
<div class="next"><a href="fechas.html"><span class="header-section-number">8</span> Fechas</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#operacionesvectores"><span class="header-section-number">7</span> Operaciones con vectores</a></li>
<li>
<a class="nav-link" href="#vectores-num%C3%A9ricos-1"><span class="header-section-number">7.1</span> Vectores num√©ricos</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#operaciones-aritm%C3%A9ticas"><span class="header-section-number">7.1.1</span> Operaciones aritm√©ticas</a></li>
<li><a class="nav-link" href="#operaciones-estad%C3%ADsticas"><span class="header-section-number">7.1.2</span> Operaciones estad√≠sticas</a></li>
<li><a class="nav-link" href="#operacionesausentes"><span class="header-section-number">7.1.3</span> Operaciones con ausentes</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#seleccionar-elementos"><span class="header-section-number">7.2</span> Seleccionar elementos</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#which"><span class="header-section-number">7.2.1</span> which</a></li>
<li><a class="nav-link" href="#null"><span class="header-section-number">7.2.2</span> NULL</a></li>
</ul>
</li>
<li><a class="nav-link" href="#nombrando-vectores-a%C3%B1adiendo-metainformaci%C3%B3n"><span class="header-section-number">7.3</span> Nombrando vectores: a√±adiendo metainformaci√≥n</a></li>
<li><a class="nav-link" href="#ordenar"><span class="header-section-number">7.4</span> Ordenar</a></li>
<li><a class="nav-link" href="#consejos-4"><span class="header-section-number">7.5</span> Consejos</a></li>
<li><a class="nav-link" href="#ejercicios-4"><span class="header-section-number">7.6</span> üìù Ejercicios</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/dadosdelaplace/intro-R/blob/master/08-operaciones-con-vectores.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/dadosdelaplace/intro-R/edit/master/08-operaciones-con-vectores.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Introducci√≥n a R: aprendiendo R sin morir en el intento</strong>" was written by Javier √Ålvarez Li√©bana. It was last built on √öltima actualizaci√≥n: 19-07-2022.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
